{% extends 'base.html' %}
{% block title %}Profil Admin{% endblock %}

{% block content %}
<h2>Profil Admin</h2>

<div class="section">
    <h3>Liste des étudiants</h3>
    <table>
        <thead>
            <tr>
                <th>Numéro étudiant</th>
                <th>Statut</th>
            </tr>
        </thead>
        <tbody>
            {% for student in students %}
            <tr>
                <td>
                  <a href="{% url 'profilEtudiant' student.num_etudiant %}">
                    {{ student.num_etudiant }}
                  </a>
                </td>
                <td class="{% if not student.autorise %}blocked{% endif %}">
                    {% if student.autorise %}Actif{% else %}Bloqué{% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="section">
    <h3>Réservations du jour</h3>
    <table>
        <thead>
            <tr>
                <th>Numéro étudiant</th>
                <th>Box</th>
                <th>Créneau</th>
            </tr>
        </thead>
        <tbody>
            {% if reservations_today %}
                {% for reservation in reservations_today %}
                <tr>
                    <td>{{ reservation.etudiant.num_etudiant }}</td>
                    <td>{{ reservation.box_id }}</td>
                    <td>{{ reservation.creneau.heure_debut }} - {{ reservation.creneau.heure_fin }}</td>
                </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="3">Aucune réservation aujourd'hui.</td>
                </tr>
            {% endif %}
        </tbody>
    </table>
</div>

<a href="javascript:history.back()" class="back-button">Retour</a>
{% endblock %}
